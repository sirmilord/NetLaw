<link rel="import" href="../bower_components/polymer/polymer-element.html">

<link rel="import" href="../bower_components/iron-dropdown/iron-dropdown.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">

<link rel="import" href="../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">

<dom-module id="netlaw-search">
    <template>
        <style>
            :host {
            }
        </style>

        <button on-click="toggle"><iron-icon icon="search"></iron-icon></button>
        <input id="search" type="search" name="search" placeholder="Search Documents and Contacts..." autocomplete="off" hidden$="[[!visible]]" on-mouseover="openChoices">

        <iron-dropdown id="dropdown" vertical-offset="30" no-auto-focus no-cancel-on-outside-click>
            <ul slot="dropdown-content">
                <li>Listed result contact item 1 ..</li>
                <li>Listed result contact item 2 ..</li>
                <li>Listed result contact item 3 ..</li>
                <hr />
                <li>Listed result contact item 4 ..</li>
                <li>Listed result contact item 5 ..</li>
            </ul>
        </iron-dropdown>

    </template>
    <script>
        class NetlawSearch extends Polymer.Element {
            static get is() { return 'netlaw-search'; }
            static get properties() {
                return {
                    visible: { type: Boolean, value: false, },
                };
            }

            constructor() {
                super();
                this.addEventListener('blur', e => this.close());
                this.target = this.$.search;
            }

            open() {
                this.visible = true;
                this.$.search.focus();
            }
            close() {
                this.visible = false;
                this.$.dropdown.close();
            }
            toggle() { this.visible ? this.close() : this.open(); }

            openChoices() {
                this.$.dropdown.open();
            }
        }
        customElements.define(NetlawSearch.is, NetlawSearch);
    </script>
</dom-module>

