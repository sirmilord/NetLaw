<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-dropdown/iron-dropdown.html">

<dom-module id="netlaw-notification">

  <template>

    <style>
      /* shadow DOM styles go here */
      :host {
        position: relative;
        margin-left: auto;
        margin-right: 20px;
      }

      :host paper-icon-button {
        padding: 9px;
      }

      :host paper-icon-button[icon="netlaw-icons:notifications"],
      :host paper-icon-button[icon="netlaw-icons:notifications-open"] {
        width: 22px;
        height: 22px;
        --iron-icon-height: 22px;
        --iron-icon-width: 22px;
        padding: 0;
        display: inline-block;
        vertical-align: middle;

      }

      /*:host([visible]) paper-icon-button[icon="netlaw-icons:notifications"] {
        opacity: 1;
      }*/

      #dropdown {
        background-color: var(--app-header-bg);
        padding: 15px;
      }

      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        max-height: none !important;
      }

      li {
        padding: .5em 4em .5em 1.5em;
        font-size: 14px;
        color: #4A4A4A;
      }

      li::before {
        position: absolute;
        left: 15px;
        content: "• ";
        color: #f5a623;
        font-size: 20px;
        line-height: 18px;
      }

      li span {
        position: absolute;
        right: 15px;
        font-size: 12px;
        color: #4A4A4A;
      }

      a {
        color: #4A90E2;
        text-decoration: none;
        font-size: 14px;
      }

    </style>

    <paper-icon-button icon="[[toggleIcon]]" name="notifications" on-click="toggle"></paper-icon-button>
    <!--<a href="javascript:;" on-click="toggle">
      &lt;!&ndash; todo: change opacity on click to 1 (default is 0.3) &ndash;&gt;
      <iron-icon src="./images/icons/notifications_icon.svg"></iron-icon>
    </a>-->

    <iron-dropdown id="dropdown" vertical-offset="47" no-auto-focus>
        <ul class="notifications" slot="dropdown-content">
          <li><a href="javascript:;">SmartGuide</a> is at 0% completed <span>1 min ago</span></li>
          <li>Alexander Dumas has shared a <a href="javascript:;">new document</a> with you.<span>20 mins ago</span></li>
          <li>Document <a href="javascript:;">“Estimate for Home Mortgage.PDF v1.0”</a> requires finalization.<span>1 hour ago</span></li>
        </ul>
    </iron-dropdown>

  </template>

  <script>

      class NetlawNotification extends Polymer.Element {
          static get is() {
              return 'netlaw-notification';
          }

          static get properties() {
              return {
                  visible: {
                      type: Boolean,
                      notify: true,
                      reflectToAttribute: true,
                      value: false
                  },
                  toggleIcon: {
                      type: String
                  },
              };
          }

          constructor() {
              super();
              this.toggleIcon = 'netlaw-icons:notifications';
          }

          toggle() {
              this.visible = !this.visible;
              this.visible ? this.$.dropdown.open() : this.$.dropdown.close();
          }

          open() {
              this.toggleIcon = 'netlaw-icons:notifications-open';

          }

          close() {
              this.toggleIcon = 'netlaw-icons:notifications';
          }

      }

      customElements.define(NetlawNotification.is, NetlawNotification);
  </script>

</dom-module>

