<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-dropdown/iron-dropdown.html">

<dom-module id="netlaw-user">

  <template>

    <style>
      /* shadow DOM styles go here */
      host {
      }

      iron-icon.style-scope.netlaw-user {
        --iron-icon-width: 20px;
        --iron-icon-height: 20px;
        position: relative;
        margin-left: auto;
        margin-right: 20px;
        clear: none;
        display: inline-block;
      }

      #dropdown {
        /*width: 300px;*/
        background-color: var(--app-header-bg);
        padding: 15px;
      }

      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        max-height: none !important;
      }

      li {
        padding: .5em 4em .5em 1em;
        font-size: 14px;
        color: #333;
      }

      li::before {
        position: absolute;
        left: 15px;
        content: "â€¢ ";
        color: #f5a623;
        font-size: 28px;
        line-height: 16px;
      }

      li span {
        position: absolute;
        right: 15px;
        font-size: 12px;
        color: #9B9B9B;
      }

      .icon {
        display: inline-block;
        width: 45px;
        height: 45px;
        margin: 0 10px;
        background-position: 50% 50%;
        background-repeat: no-repeat;
        background-size: contain;
        vertical-align: middle;
      }

      .message {
        font-size: 14px;
      }

      a {
        color: #4A90E2;
        text-decoration: none;
      }

    </style>

    <a href="#">
      <span class="icon" style="background-image: url(../images/profile_placeholder_icon.png);"></span>
    </a>
    <span class="message">
      Welcome Back, <a href="#" on-click="toggle">John Doe <iron-icon icon="[[toggleIcon]]"></iron-icon> </a>
    </span>

    <iron-dropdown id="dropdown" vertical-offset="47" no-auto-focus no-cancel-on-outside-click>
        <ul class="profile" slot="dropdown-content">
          <li><a href="#">My Profile</a></li>
          <li><a href="#">Account Settings</a></li>
          <li><a href="#">Refer a Friend</a></li>
          <li><a href="#">Help</a></li>
          <li><a href="#">Log Out</a></li>
        </ul>
    </iron-dropdown>

  </template>

  <script>

      class NetlawUser extends Polymer.Element {
          static get is() {
              return 'netlaw-user';
          }

          static get properties() {
              return {
                  visible: {
                      type: Boolean,
                      notify: true,
                      reflectToAttribute: true,
                      value: false
                  },
              };
          }

          constructor() {
              super();
              this.toggleIcon = 'expand-more';
          }

          toggle(e) {
              e.preventDefault();
              this.visible = !this.visible;
              this.visible ? this.$.dropdown.open() : this.$.dropdown.close();
          }

      }

      customElements.define(NetlawUser.is, NetlawUser);
  </script>

</dom-module>

