<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-dropdown/iron-dropdown.html">

<dom-module id="netlaw-user">

  <template>

    <style>
      /* shadow DOM styles go here */
      :host {

      }

      iron-icon {
        --iron-icon-width: 45px;
        --iron-icon-height: 45px;
        display: inline-block;
        margin: 0 10px;
        vertical-align: middle;
      }

    </style>

    <a href="[[rootPath]]profile">
      <iron-icon src="./images/icons/profile-icon.svg"></iron-icon>
    </a>

  </template>

  <script>

      class NetlawUser extends Polymer.Element {
          static get is() {
              return 'netlaw-user';
          }

          static get properties() {
              return {
                  visible: {
                      type: Boolean,
                      notify: true,
                      reflectToAttribute: true,
                      value: false
                  },
              };
          }

          constructor() {
              super();
              this.toggleIcon = 'expand-more';
          }

          onLinkClick() {

             this.$.user_dropdown.close();
             this.visible = !this.visible;
              /*this.visible ? this.$.user_dropdown.open() : this.$.user_dropdown.close();*/
          }

          toggle(e) {
              e.preventDefault();
              this.visible = !this.visible;
              this.visible ? this.$.user_dropdown.open() : this.$.user_dropdown.close();


          }

          onSignOutClick(e) {
              this.loggedIn = false;
              // Show login screen on logout
              this.page = 'login';
              window.location.href='/';
              window.location.reload(true);
          }

      }

      customElements.define(NetlawUser.is, NetlawUser);
  </script>

</dom-module>

